{"version":3,"sources":["components/Header/Header.js","components/SearchBlock/Tags/Tags.js","components/SearchBlock/SearchBlock.js","components/FilmsList/FilmsList.js","App.js","index.js"],"names":["Header","filmsTab","event","console","log","target","preventDefault","parentElement","children","classList","remove","add","props","bookmarksTab","className","href","onClick","this","Component","Tags","activeTagsArr","activeTags","activateTag","contains","splice","indexOf","textContent","length","tags","push","updateActiveTags","map","item","i","key","SearchBlock","state","setState","filterFilms","filterToTags","arr1","arr2","filter","filterToQuery","query","arr","el","title","toLowerCase","filterFilmsPototype","films","useFilms","document","querySelector","value","updateFilms","queryInitFilterFilms","searchBlockClass","page","placeholder","onInput","FilmsList","showQuantity","showMoreButton","star","version","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","fill","points","bookmarks","addToBookmarks","currentTarget","index","findIndex","localStorage","setItem","JSON","stringify","updateBookmarks","removeBookmark","find","App","getItem","parse","filmsList","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6aa92536.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './header.css';\r\n\r\nexport default class Header extends Component{\r\n\r\n    filmsTab=(event)=>{\r\n        console.log(event.target);\r\n        event.preventDefault();\r\n        event.target.parentElement.children[1].classList.remove(\"header__navigation-active-item\");\r\n        event.target.classList.add(\"header__navigation-active-item\");\r\n        this.props.filmsTab();\r\n    };\r\n\r\n    bookmarksTab=(event)=>{\r\n        console.log(event.target);\r\n        event.preventDefault();\r\n        event.target.parentElement.children[0].classList.remove(\"header__navigation-active-item\");\r\n        event.target.classList.add(\"header__navigation-active-item\");\r\n        this.props.bookmarksTab();\r\n    };\r\n\r\n    render(){\r\n        return(\r\n            <header className=\"header container\">\r\n                <nav className=\"header__navigation\">\r\n                    <a href=\"\" className=\"header__navigation-item header__navigation-active-item\" onClick={this.filmsTab}>Фильмы</a>\r\n                    <a href=\"\" className=\"header__navigation-item\" onClick={this.bookmarksTab}>Закладки</a>\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\n\r\nexport default class Tags extends Component{\r\n\r\n    render(){\r\n\r\n        let activeTagsArr = this.props.activeTags;\r\n\r\n        const activateTag=(event)=>{\r\n            event.preventDefault();\r\n            if(event.target.classList.contains('search-block__active-tag')){\r\n                event.target.classList.remove('search-block__active-tag');\r\n                activeTagsArr.splice(activeTagsArr.indexOf(event.target.textContent),1);\r\n                if(activeTagsArr.length==0){\r\n                    activeTagsArr=this.props.tags;\r\n                }\r\n            }else{\r\n                event.target.classList.add('search-block__active-tag');\r\n                if(activeTagsArr.length!==this.props.tags.length){\r\n                    activeTagsArr.push(event.target.textContent);\r\n                }else{\r\n                    activeTagsArr=[event.target.textContent];\r\n                }\r\n            }\r\n            console.log(activeTagsArr);\r\n            this.props.updateActiveTags(activeTagsArr);\r\n        };\r\n\r\n        const renderTags = (arr)=>{\r\n            return arr.map((item, i)=>{\r\n                return(\r\n                    <a key={i} href=\"\" className=\"search-block__tag\" onClick={activateTag}>{item}</a>\r\n                )\r\n            })\r\n        };\r\n\r\n        return(\r\n            <div className=\"search-block__tags\">\r\n                {renderTags(this.props.tags)}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './search-block.css';\r\nimport Tags from './Tags/Tags';\r\nimport tags from \"../../tags\";\r\nimport films from \"../../films\";\r\n\r\nexport default class SearchBlock extends Component{\r\n\r\n    state={\r\n        activeTags: tags\r\n    };\r\n\r\n    componentDidMount() {\r\n        console.log(this.state.activeTags);\r\n        this.filterFilms(this.state.activeTags);\r\n    }\r\n\r\n\r\n    updateActiveTags=(activeTags)=>{\r\n        this.setState({\r\n            activeTags\r\n        });\r\n        this.filterFilms(activeTags);\r\n    };\r\n\r\n    filterToTags = (arr1, arr2)=>{\r\n      return arr1.filter(item => {\r\n         for(let i=0; i<item.tags.length; i++){\r\n             if(arr2.indexOf(item.tags[i])>-1){\r\n                 return item;\r\n             }\r\n         }\r\n      });\r\n    };\r\n\r\n    filterToQuery = (query,arr)=> {\r\n        if(query.length>0){\r\n            return arr.filter(function(el) {\r\n                return el.title.toLowerCase().indexOf(query.toLowerCase()) > -1;\r\n            })\r\n        }else{\r\n            return(arr);\r\n        }\r\n    };\r\n\r\n    filterFilmsPototype = (query, films, activeTags)=>{\r\n        let useFilms=[];\r\n        if(activeTags.length>0){\r\n            useFilms = this.filterToTags(films, activeTags);\r\n        }else{\r\n            useFilms = films;\r\n        }\r\n        if(query.length>0){\r\n            return(\r\n                this.filterToQuery(query, useFilms)\r\n            )\r\n        }else{\r\n            return useFilms;\r\n        }\r\n    };\r\n\r\n    filterFilms=(activeTags)=>{\r\n        let query = document.querySelector('.search-block__search-field').value;\r\n        this.updateFilms(this.filterFilmsPototype(query, films, activeTags));\r\n    };\r\n\r\n    queryInitFilterFilms = ()=>{\r\n        this.filterFilms(this.state.activeTags);\r\n    };\r\n\r\n    updateFilms=(arr)=>{\r\n        this.props.updateFilms(arr);\r\n    };\r\n\r\n    render(){\r\n\r\n        let searchBlockClass;\r\n        if(this.props.page!=\"bookmarksList\"){\r\n            searchBlockClass=\"search-block\";\r\n        }else{\r\n            searchBlockClass=\"search-block_not-active\";\r\n        }\r\n\r\n        return(\r\n            <section className={searchBlockClass + \" \" + \"container\"}>\r\n                <input className=\"search-block__search-field\" placeholder=\"Введите название фильма...\" onInput={this.queryInitFilterFilms}></input>\r\n                <Tags tags={tags} activeTags={this.state.activeTags} updateActiveTags={this.updateActiveTags}/>\r\n            </section>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './films-list.css';\r\n\r\nexport default class FilmsList extends Component{\r\n\r\n    state={\r\n        showQuantity: 15\r\n    };\r\n\r\n    render(){\r\n\r\n        const star = <svg className=\"films-list__add-bookmarks-star\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n    viewBox=\"0 0 426.667 426.667\" enableBackground=\"new 0 0 426.667 426.667;\" xmlSpace=\"preserve\">\r\n        <polygon fill=\"#A9A9A9\" points=\"213.333,10.441 279.249,144.017 426.667,165.436 320,269.41 345.173,416.226 213.333,346.91\r\n    81.485,416.226 106.667,269.41 0,165.436 147.409,144.017 \"/>\r\n    <g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n\r\n\r\n        const showMore = (event)=>{\r\n            event.preventDefault();\r\n            this.setState({\r\n                showQuantity:this.state.showQuantity+15\r\n            });\r\n        };\r\n\r\n        let bookmarks = this.props.bookmarks;\r\n\r\n\r\n        const addBookmark =(value)=>{\r\n            bookmarks.push(this.props.films.find(el=>{return el.title==value}));\r\n            localStorage.setItem(\"bookmarks\",JSON.stringify(bookmarks));\r\n            this.props.updateBookmarks(bookmarks);\r\n            this.props.updateFilms(this.props.films);\r\n        };\r\n\r\n        const removeBookmark = (value)=>{\r\n            let index = bookmarks.findIndex(el=>{return el.title==value});\r\n            bookmarks.splice(index,1);\r\n            localStorage.setItem(\"bookmarks\",JSON.stringify(bookmarks));\r\n            this.props.updateBookmarks(bookmarks);\r\n        };\r\n\r\n        const addToBookmarks=(event)=>{\r\n            event.preventDefault();\r\n            if(event.currentTarget.parentElement.classList.contains('films-list__bookmarks')){\r\n                removeBookmark(event.currentTarget.parentElement.children[0].textContent);\r\n            }else{\r\n                addBookmark(event.currentTarget.parentElement.children[0].textContent);\r\n            }\r\n        };\r\n\r\n        const checkBookmarks = (value)=> {\r\n            let result = this.props.bookmarks.findIndex(el=>{return el.title==value}) > -1;\r\n            return result;\r\n        };\r\n\r\n\r\n        const renderFilms=(arr)=>{\r\n\r\n            return arr.map((item,i)=>{\r\n                if(i<this.state.showQuantity){\r\n                    let filmItem;\r\n                    if(checkBookmarks(item.title)){\r\n                        filmItem=<div key={i} className=\"films-list__film films-list__bookmarks\">\r\n                            <p className=\"film-list__film-name\">\r\n                                {item.title}\r\n                            </p>\r\n                            <a href=\"\" className=\"films-list__add-bookmarks\" onClick={addToBookmarks}>\r\n                                {star}\r\n                            </a>\r\n                        </div>\r\n                    }else{\r\n                        filmItem = <div key={i} className=\"films-list__film\">\r\n                            <p className=\"film-list__film-name\">\r\n                                {item.title}\r\n                            </p>\r\n                            <a href=\"\" className=\"films-list__add-bookmarks\" onClick={addToBookmarks}>\r\n                                {star}\r\n                            </a>\r\n                        </div>\r\n                    }\r\n                    return(\r\n                        filmItem\r\n                    );\r\n                }\r\n            })\r\n        };\r\n\r\n        let showMoreButton;\r\n\r\n        if(this.state.showQuantity<this.props.films.length){\r\n            showMoreButton=<a href=\"\" onClick={showMore} className=\"films-list__show-more\">Показать ещё</a>;\r\n        }else{\r\n            showMoreButton=\"\";\r\n        }\r\n\r\n        return(\r\n            <section className=\"films-list container\">\r\n                {renderFilms(this.props.films)}\r\n                {showMoreButton}\r\n            </section>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\nimport Header from \"./components/Header/Header\";\nimport SearchBlock from './components/SearchBlock/SearchBlock';\nimport FilmsList from './components/FilmsList/FilmsList';\nimport './App.css';\nimport films from './films.json';\n\nexport default class App extends Component{\n\n    state={\n        films: films,\n        bookmarks:[],\n        page: \"filmsList\"\n    };\n\n    componentDidMount() {\n        if(localStorage.getItem(\"bookmarks\")!==null){\n            console.log(localStorage.getItem(\"bookmarks\")!==null);\n            this.setState({\n                bookmarks: JSON.parse(localStorage.getItem(\"bookmarks\"))\n            });\n        }\n    }\n\n    filmsTab = ()=>{\n        this.setState({\n            page: \"filmsList\"\n        });\n    };\n\n    bookmarksTab = ()=>{\n        this.setState({\n            page: \"bookmarksList\"\n        });\n    };\n\n    updateFilms = (arr) =>{\n        this.setState({\n            films: arr\n        })\n    };\n\n    updateBookmarks =(bookmarks)=>{\n        console.log(bookmarks);\n        this.setState({\n            bookmarks\n        })\n    };\n\n    render() {\n\n        let filmsList;\n        if(this.state.page==\"filmsList\"){\n            filmsList=this.state.films;\n        }else{\n            filmsList=this.state.bookmarks;\n        }\n\n        return (\n            <div className=\"App\">\n                <Header filmsTab={this.filmsTab} bookmarksTab={this.bookmarksTab}/>\n                <SearchBlock updateFilms={this.updateFilms} page={this.state.page}/>\n                <FilmsList films={filmsList} updateBookmarks={this.updateBookmarks} bookmarks={this.state.bookmarks} updateFilms={this.updateFilms}/>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}